<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Messages - Multi-Vendor E-commerce</title>
  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            indigo: {
              50: '#eef2ff',
              100: '#e0e7ff',
              200: '#c7d2fe',
              300: '#a5b4fc',
              400: '#818cf8',
              500: '#6366f1',
              600: '#4f46e5',
              700: '#4338ca',
              800: '#3730a3',
              900: '#312e81',
              950: '#1e1b4b',
            },
          },
        },
      },
    }
  </script>
  <style>
    .dropdown-content {
      display: none;
    }

    .dropdown-content.show {
      display: block;
    }

    .sidebar-item.active {
      background-color: #4f46e5;
      color: white;
    }

    .sidebar-item.active i {
      color: white;
    }

    @media (max-width: 1023px) {
      .sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease-in-out;
      }

      .sidebar.open {
        transform: translateX(0);
      }
    }

    .message-tab.active {
      color: #4f46e5;
      border-bottom-color: #4f46e5;
    }

    .message-item.active {
      background-color: #eef2ff;
      border-left-color: #4f46e5;
    }
  </style>
</head>

<body class="min-h-screen bg-gray-50" onload="essentialLoading();">
  <!-- Mobile Sidebar Toggle -->
  <button id="sidebarToggle"
    class="fixed top-4 left-4 z-50 rounded-md bg-indigo-600 p-2 text-white shadow-md lg:hidden">
    <i class="fa-solid fa-bars"></i>
  </button>

  <!-- Sidebar -->
  <aside id="sidebar"
    class="sidebar fixed inset-y-0 left-0 z-40 w-64 bg-white shadow-md transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out">
  </aside>

  <!-- Main Content -->
  <div class="lg:pl-64">
    <!-- Navbar -->
    <header class="sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-white px-4 md:px-6" id="navbar">
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-6 lg:p-8">
      <!-- Breadcrumb Navigation -->
      <div class="mb-6">
        <nav class="flex" aria-label="Breadcrumb">
          <ol class="inline-flex items-center space-x-1 md:space-x-3">
            <li class="inline-flex items-center">
              <a href="index.html"
                class="inline-flex items-center text-sm font-medium text-gray-700 hover:text-indigo-600">
                <i class="fa-solid fa-home mr-2"></i>
                Dashboard
              </a>
            </li>
            <li>
              <div class="flex items-center">
                <i class="fa-solid fa-chevron-right text-gray-400 mx-1 text-xs"></i>
                <a href="#" class="ml-1 text-sm font-medium text-indigo-600">Messages</a>
              </div>
            </li>
          </ol>
        </nav>
      </div>

      <!-- Messages Header -->
      <div class="mb-6 flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
        <div>
          <h1 class="text-2xl font-bold">Messages</h1>
          <p class="text-gray-500">Manage customer inquiries and conversations</p>
        </div>
        <div class="flex flex-wrap gap-3">
          <button class="rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-700">
            <i class="fa-solid fa-pen-to-square mr-1"></i> Compose
          </button>
          <button class="rounded-md border bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50">
            <i class="fa-solid fa-gear mr-1"></i> Message Settings
          </button>
        </div>
      </div>

      <!-- Message Stats -->
      <div class="mb-6 grid gap-4 md:grid-cols-4">
        <div class="rounded-lg border bg-white p-4 shadow-sm">
          <div class="flex items-center justify-between">
            <div class="text-sm font-medium text-gray-500">Unread Messages</div>
            <div class="rounded-full bg-red-100 p-1.5 text-red-600">
              <i class="fa-solid fa-envelope text-xs"></i>
            </div>
          </div>
          <div class="mt-2 text-2xl font-bold">3</div>
          <div class="mt-1 text-xs text-gray-500">Require attention</div>
        </div>
        <div class="rounded-lg border bg-white p-4 shadow-sm">
          <div class="flex items-center justify-between">
            <div class="text-sm font-medium text-gray-500">Total Messages</div>
            <div class="rounded-full bg-indigo-100 p-1.5 text-indigo-600">
              <i class="fa-solid fa-inbox text-xs"></i>
            </div>
          </div>
          <div class="mt-2 text-2xl font-bold">28</div>
          <div class="mt-1 text-xs text-gray-500">Last 30 days</div>
        </div>
        <div class="rounded-lg border bg-white p-4 shadow-sm">
          <div class="flex items-center justify-between">
            <div class="text-sm font-medium text-gray-500">Response Rate</div>
            <div class="rounded-full bg-green-100 p-1.5 text-green-600">
              <i class="fa-solid fa-reply text-xs"></i>
            </div>
          </div>
          <div class="mt-2 text-2xl font-bold">98%</div>
          <div class="mt-1 text-xs text-gray-500">Within 24 hours</div>
        </div>
        <div class="rounded-lg border bg-white p-4 shadow-sm">
          <div class="flex items-center justify-between">
            <div class="text-sm font-medium text-gray-500">Avg. Response Time</div>
            <div class="rounded-full bg-blue-100 p-1.5 text-blue-600">
              <i class="fa-solid fa-clock text-xs"></i>
            </div>
          </div>
          <div class="mt-2 text-2xl font-bold">2.5h</div>
          <div class="mt-1 text-xs text-gray-500">Last 30 days</div>
        </div>
      </div>

      <!-- Message Interface -->
      <div class="rounded-lg border bg-white shadow-sm overflow-hidden">
        <!-- Message Tabs -->
        <div class="border-b">
          <div class="flex">
            <button class="message-tab active px-4 py-3 text-sm font-medium border-b-2 border-indigo-600">
              Inbox <span class="ml-1 rounded-full bg-red-100 px-2 py-0.5 text-xs font-medium text-red-800">3</span>
            </button>
            <button
              class="message-tab px-4 py-3 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700">
              Sent
            </button>
            <button
              class="message-tab px-4 py-3 text-sm font-medium border-b-2 border-transparent text-gray-500 hover:text-gray-700">
              Archived
            </button>
          </div>
        </div>

        <div class="flex h-[600px]">
          <!-- Message List -->
          <div class="w-full md:w-1/3 border-r overflow-y-auto">
            <div class="p-3 border-b">
              <div class="relative">
                <input type="text" placeholder="Search messages..."
                  class="w-full rounded-md border border-gray-300 pl-8 pr-4 py-1.5 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500">
                <i class="fa-solid fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-xs"></i>
              </div>
            </div>
            <div id="messageList">
              <!-- Message items will be inserted here by JavaScript -->
            </div>
          </div>

          <!-- Message Content -->
          <div class="hidden md:flex md:w-2/3 flex-col">
            <div id="messageContent" class="flex-1 p-6 overflow-y-auto">
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-3">
                  <div class="h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600">
                    EW
                  </div>
                  <div>
                    <h3 class="font-medium">Emily Wilson</h3>
                    <div class="text-sm text-gray-500">emily.w@example.com</div>
                  </div>
                </div>
                <div class="text-sm text-gray-500">May 12, 2023 â€¢ 10:24 AM</div>
              </div>

              <div class="mb-6">
                <h2 class="text-lg font-semibold mb-3">Question about the handcrafted necklace</h2>
                <p class="text-gray-700 mb-4">
                  Hi there,
                </p>
                <p class="text-gray-700 mb-4">
                  I was browsing your store and I'm interested in the Silver Moonstone Pendant Necklace. I was wondering
                  if it comes in silver as well? The description mentions gold, but I prefer silver jewelry.
                </p>
                <p class="text-gray-700 mb-4">
                  Also, could you tell me the length of the chain? I'm looking for something that sits just below the
                  collarbone.
                </p>
                <p class="text-gray-700 mb-4">
                  Thank you!
                </p>
                <p class="text-gray-700">
                  Emily
                </p>
              </div>

              <div class="border-t pt-6">
                <div class="flex items-center justify-between mb-4">
                  <h3 class="font-medium">Reply to Emily Wilson</h3>
                </div>
                <textarea
                  class="w-full rounded-md border border-gray-300 p-3 text-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 min-h-[120px]"
                  placeholder="Type your reply here..."></textarea>
                <div class="mt-3 flex justify-between">
                  <div>
                    <button
                      class="rounded-md border bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50">
                      <i class="fa-solid fa-paperclip mr-1"></i> Attach
                    </button>
                  </div>
                  <div class="flex gap-2">
                    <button
                      class="rounded-md border bg-white px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-50">
                      Save Draft
                    </button>
                    <button
                      class="rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-indigo-700">
                      Send Reply
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Mobile Message Selection Prompt -->
          <div class="flex w-full md:hidden items-center justify-center">
            <div class="text-center p-6">
              <div
                class="rounded-full bg-gray-100 h-16 w-16 flex items-center justify-center text-gray-400 mx-auto mb-4">
                <i class="fa-solid fa-envelope text-2xl"></i>
              </div>
              <h3 class="font-medium text-gray-700 mb-1">Select a message</h3>
              <p class="text-sm text-gray-500">Choose a conversation from the list to view its contents</p>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Message tabs
    const messageTabs = document.querySelectorAll('.message-tab');
    messageTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        messageTabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
      });
    });

    // Sample messages data
    const messages = [
      { id: 1, sender: 'Emily Wilson', email: 'emily.w@example.com', subject: 'Question about the handcrafted necklace', preview: 'Hi there, I was browsing your store and I\'m interested in the Silver Moonstone Pendant Necklace...', date: 'May 12, 2023', time: '10:24 AM', unread: true },
      { id: 2, sender: 'Robert Chen', email: 'robert.c@example.com', subject: 'Order shipping timeline', preview: 'When will my order be shipped? I need it by next week for a special occasion...', date: 'May 11, 2023', time: '3:45 PM', unread: true },
      { id: 3, sender: 'Jessica Martinez', email: 'jessica.m@example.com', subject: 'Thank you for the quick response', preview: 'Thank you for the quick response! I\'ll place my order today. Just one more question...', date: 'May 10, 2023', time: '9:12 AM', unread: true },
      { id: 4, sender: 'Michael Johnson', email: 'michael.j@example.com', subject: 'Custom order inquiry', preview: 'I\'m interested in commissioning a custom piece similar to your Ceramic Vase but with a different pattern...', date: 'May 08, 2023', time: '2:30 PM', unread: false },
      { id: 5, sender: 'Sarah Thompson', email: 'sarah.t@example.com', subject: 'Product availability', preview: 'I noticed that the Woven Basket is currently out of stock. Do you know when it will be available again?', date: 'May 07, 2023', time: '11:05 AM', unread: false },
      { id: 6, sender: 'David Wilson', email: 'david.w@example.com', subject: 'Wholesale inquiry', preview: 'I own a small boutique and I\'m interested in carrying some of your handcrafted items. Do you offer wholesale pricing?', date: 'May 05, 2023', time: '4:18 PM', unread: false },
      { id: 7, sender: 'Amanda Garcia', email: 'amanda.g@example.com', subject: 'Return request', preview: 'I received my order yesterday but unfortunately the color is different from what I expected. I\'d like to return it...', date: 'May 03, 2023', time: '10:45 AM', unread: false }
    ];

    // Populate message list
    const messageList = document.getElementById('messageList');
    messages.forEach((message, index) => {
      const messageItem = document.createElement('div');
      messageItem.className = `message-item border-l-4 ${message.unread ? 'border-indigo-600 font-medium' : 'border-transparent'} border-b px-4 py-3 hover:bg-gray-50 cursor-pointer ${index === 0 ? 'active' : ''}`;
      messageItem.dataset.id = message.id;

      messageItem.innerHTML = `
        <div class="flex items-center justify-between mb-1">
          <div class="font-medium">${message.sender}</div>
          <div class="text-xs text-gray-500">${message.time}</div>
        </div>
        <div class="text-sm ${message.unread ? 'font-medium' : ''}">${message.subject}</div>
        <div class="text-xs text-gray-500 truncate">${message.preview}</div>
      `;

      messageList.appendChild(messageItem);

      // Add click event to show message content on mobile
      messageItem.addEventListener('click', () => {
        document.querySelectorAll('.message-item').forEach(item => item.classList.remove('active'));
        messageItem.classList.add('active');

        // On mobile, hide the list and show the content
        if (window.innerWidth < 768) {
          document.querySelector('.md\\:w-1\\/3').classList.add('hidden');
          document.querySelector('.md\\:hidden').classList.add('hidden');
          document.querySelector('.md\\:flex').classList.remove('hidden');
          document.querySelector('.md\\:flex').classList.add('flex');
        }
      });
    });

    // Add back button for mobile
    const messageContent = document.getElementById('messageContent');
    const backButton = document.createElement('button');
    backButton.className = 'md:hidden mb-4 flex items-center text-indigo-600';
    backButton.innerHTML = '<i class="fa-solid fa-arrow-left mr-1"></i> Back to messages';
    backButton.addEventListener('click', () => {
      document.querySelector('.md\\:w-1\\/3').classList.remove('hidden');
      document.querySelector('.md\\:flex').classList.remove('flex');
      document.querySelector('.md\\:flex').classList.add('hidden');
    });
    messageContent.insertBefore(backButton, messageContent.firstChild);
  </script>
  <script src="./js/script.js"></script>
</body>

</html>